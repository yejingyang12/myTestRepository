
<div class="container h-padding" style="margin:0">
    <div class="container h-table-border" style="background:#fff;padding: 15px;margin-top: -15px">
        <div style="height: 50px;line-height: 50px;margin-top: -15px">
            <i class="h-list-line" style="vertical-align:middle;"></i>
            单位基本信息列表
        </div>
        <div class="h-bottom-line  h-bottom-position" style="margin: 0 -15px"></div>
            <div class="row" style="margin-top: 15px">
                <div class="col-md-12">
                    <div class="col-md-3 h-system h-padding" style="width: 60px;min-width: 58px;">
                                                              单位名称:
                    </div>
                    <div class="col-md-3 h-col-md-9 h-padding pos-relative">
                <!-- <input type="text" class="h-form-control" 
                            style="width: 74%" v-model="companyForm.queryData.companyName"/>-->                     
                         <el-input   placeholder="请输入内容"
								       v-model="companyForm.queryData.companyName"
								       clearable
								       class="h-form-control" 
								       style="width:74%">
						   </el-input>
                    </div>
                     <div class="col-md-4 h-system h-padding" style="margin-left: -3%;width: 8%;">
                                                                  责任部门负责人:
                    </div>
                    <div class="col-md-3 h-col-md-9 h-padding pos-relative">
<!--                         <input type="text" class="h-form-control" style="width: 74%" v-model="companyForm.queryData.ldContactName"/>
 -->                      <el-input  placeholder="请输入内容"
							         v-model="companyForm.queryData.ldContactName"
							         clearable
							         class="h-form-control" 
							         style="width: 74%">
						  </el-input> 
                    </div>
                    <div style="float: right" class=" btn-group btn-group-sm" role="group" aria-label="...">
                        <button type="button" @click="queryCompanyListInfoMethod()" class="btn btn-defaults" style="padding:5px 20px;width:70px;background:#3d95df;color:#fff;">查询</button>
                        <button type="button" class="btn btn-default" style="width:70px;margin-left:5px;padding: 5px 20px;" @click="clearHeadle">清空</button>
                    </div>
                </div>
            </div>
        <!--</div>-->
        <div class="h-bottom-line  h-bottom-position" style="margin: 0 -15px"></div>
        <p class="h-p" style="margin: 15px 0;">
            <button title="新建"  class="h-btn btn h-btn-add" id="h-btn-add" @click="newCompanyInfoMethod()" style="border: none;"> </button>
            <button title="删除" type="button" class="hh-btn btn btn-default h-bagimg" id="h-btn-add" @click="check = true">
                <img class="hh-add   btn-default" src="/images/del.png" alt=""/>
                <slot name="shanchu"></slot>
            </button>
        </p>
        <div class="row" style="margin:0">
            <div class="col-md-12">
                <div class="row table-responsive">
                    <table id="h-list-show" class="table table-bordered table-striped">
                        <tr class="tr-row rowOne">
                            <th class="firstChecked"
                                style="width:4%;padding: 0; line-height:39px;  margin-top:50%;  border:none;  border-bottom: 1px;">
                                <input class="checkName frist" type="checkbox" @click="checkboxAllMethod()" style=" margin: 4px 36%;" id="checkboxAll"/></th>
                            <th style="min-width:47px">序号</th>
                            <th>单位名称
                                <slot name="paixujiantou"></slot>
                            </th>
                            <th>单位类型
                                <slot name="paixujiantou2"></slot>
                            </th>
                            <th>责任部门负责人
                                <slot name="paixujiantou3"></slot>
                            </th>
                            <th>操作</th>
                        </tr>
                        <tr class="tr-row" v-for="(item,index) in companyForm.formData">
                            <td class="firstChecked" style="min-width:34px;padding: 0; line-height:39px; margin-top:28%;  border:none;  border-bottom: 1px;">
                              <!-- <div v-for="companyCodeJ in nameList" v-if="companyCodeJ==item.companyCode"> -->
                                <input class="checkName ids" type="checkbox" style="margin: 4px 36%;" @click="checkboxMethod($event,item.companyId)"/>
                              <!-- </div> -->
                            </td>
                            <td>{{index+1}}</td>
                            <td>{{item.companyName}}</td>
                            <td>{{item.fkCompanyType}} </td>
                            <td>{{item.ldContactName}}</td>
                            <!--操作-->
                            <td style="color:#1e91e2;">
                              <!--class="hide3"-->
                              <span class="hide3">
                                <a><el-button @click="handleClick(item.companyId)" type="text" size="small">编辑</el-button></a>
                                <i style="color:#1e91e2 ">|</i>
                                <a><el-button @click="deleteClickDialog(item.companyId)" type="text" size="small">删除</el-button></a>
                                       <!--  测评表格的删除弹窗 -->
                                <div class="dialogShaw">
                                   <div class="inquiry inquiryDelete">
                                        <div class="cenrerBox">
                                            <i class="failIcon fl">!</i>
                                            <div class="fl">
                                                <p>是否删除</p>
                                            </div>
                                        </div>
                                        <div class="inquiryBtn">
                                            <button type="button" class="btn btn-success" @click="deleteClick()">确定</button>
                                            <button type="button" class="btn btn-default" @click="closes">取消</button>
                                        </div>
                                    </div>
                                 </div>
                              </span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!--分页-->
        <div class="h-page-box1" style="position:relative;width:100%;height:64px;margin-right: 0;">
          <span style="float: left;padding-top: 18px">
            <div v-if="companyForm.currentPage==0">
                            显示0到0行，共0行记录
            </div>
            <div v-else>
                            显示{{((companyForm.currentPage-1)*companyForm.pagesize)+1}}到{{(companyForm.currentPage)*(companyForm.pagesize)}}行，共{{companyForm.total}}行记录
            </div>
          </span>
          <div class="h-page">
            <nav aria-label="Page navigation">
              <ul class="pagination">
                <li @click="clickPage(companyForm.currentPage-1)">
                  <a href="javascript:;" aria-label="Previous">
                    <span aria-hidden="true">上一页</span>
                  </a>
                </li>
                <li v-for="n in totalPages==0?1:companyForm.totalPages" :class="[n==companyForm.currentPage ? 'current' : '' ]">
                  <a href="javascript:;" @click="clickPage(n)">{{n}}</a>
                </li>
                <li @click="clickPage(companyForm.currentPage+1)">
                  <a href="javascript:;" aria-label="Next">
                    <span aria-hidden="true">下一页</span>
                  </a>
                </li> 共{{companyForm.totalPages}}页，跳到
                <li>
                <input type="text" id="txt" v-model="companyForm.txt" @keydown.enter="hpageNum(this)" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')" style="overflow: visible;"/>
                  <div class="box" id="box"></div></li> 页
              </ul>
            </nav>
          </div>
        </div>
    </div>
    <div class="inquiryBoxShow" v-show="check">
        <div class="inquiry">
            <div class="cenrerBox">
                <i class="failIcon fl">!</i>
                <div class="fl">
                    <p>是否批量删除?</p>
                    <!-- <span>未保存的部分将会消失哦</span> -->
                </div>
            </div>
            <div class="inquiryBtn">
                <button type="button" class="btn btn-success" @click="deleteCompanyInfoMethod()">确定</button>
                <button type="button" class="btn btn-default" @click="check = false">取消</button>
            </div>
        </div>
    </div>
    <div class="startBox startBoxSuccess">
     <div>
      	<i class="el-icon-circle-check" style="color:#5DAE51;"></i><P>删除成功!</P>
      </div>
    </div>
    <div class="startBox startBoxExistSys">
    	<div>
      	<i class="failIcon">!</i><P>因存在系统,{{existSysCompanyNum}}条删除失败!</P>
      </div>
    </div>
    <div class="startBox startBoxError">
        <div><i class="failIcon">!</i><P>请选择删除数据!</P></div>
    </div>
</div>


