<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sinopec.smcc.cpro.company.mapper.CompanyMapper">
  <resultMap id="BaseResultMap" type="com.sinopec.smcc.cpro.company.entity.CompanyListResult">
    <result column="pkId" property="companyId" jdbcType="VARCHAR" />
    <result column="ldContactEmail" property="ldContactEmail" jdbcType="VARCHAR" />
    <result column="companyName" property="companyName" jdbcType="VARCHAR" />
    <result column="postalCode" property="postalCode" jdbcType="VARCHAR" />
    <result column="compPrincipalWorkTel" property="compPrincipalWorkTel" jdbcType="VARCHAR" />
    <result column="createUserName" property="createUserName" jdbcType="VARCHAR" />
    <result column="ldContactName" property="ldContactName" jdbcType="VARCHAR" />
    <result column="rDepartment" property="rDepartment" jdbcType="VARCHAR" />
    <result column="compPrincipalEm" property="compPrincipalEm" jdbcType="VARCHAR" />
    <result column="ldContactPhone" property="ldContactPhone" jdbcType="VARCHAR" />
    <result column="administrativeNum" property="administrativeNum" jdbcType="VARCHAR" />
    <result column="compPrincipalPhone" property="compPrincipalPhone" jdbcType="VARCHAR" />
    <result column="companyCode" property="companyCode" jdbcType="VARCHAR" />
    <result column="compPrincipalPost" property="compPrincipalPost" jdbcType="VARCHAR" />
    <result column="ldContactPost" property="ldContactPost" jdbcType="VARCHAR" />
    <result column="gpReportingComp" property="gpReportingComp" jdbcType="VARCHAR" />
    <result column="companyAddress" property="companyAddress" jdbcType="VARCHAR" />
    <result column="ldContactWorkTel" property="ldContactWorkTel" jdbcType="VARCHAR" />
    <result column="compPrincipalName" property="compPrincipalName" jdbcType="VARCHAR" />
    <result column="codeName" property="provincesName" jdbcType="VARCHAR" />
    <result column="codeName" property="categoryName" jdbcType="VARCHAR" />
    <result column="codeName" property="affiliationName" jdbcType="VARCHAR" />
    <result column="codeName" property="companyTypeName" jdbcType="VARCHAR" />
    <result column="codeName" property="plateTypeName" jdbcType="VARCHAR" />
    <result column="fkSubordinatePro" property="fkSubordinatePro" jdbcType="VARCHAR" />
    <result column="fkIndustryCategory" property="fkIndustryCategory" jdbcType="VARCHAR" />
    <result column="fkAffiliation" property="fkAffiliation" jdbcType="VARCHAR" />
    <result column="fkCompanyType" property="fkCompanyType" jdbcType="VARCHAR" />
    <result column="fkPlateType" property="fkPlateType" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="CompanyResult" type="com.sinopec.smcc.cpro.company.entity.CompanyResult">
    <result column="pkId" property="companyId" jdbcType="VARCHAR" />
    <result column="ldContactEmail" property="ldContactEmail" jdbcType="VARCHAR" />
    <result column="companyName" property="companyName" jdbcType="VARCHAR" />
    <result column="postalCode" property="postalCode" jdbcType="VARCHAR" />
    <result column="compPrincipalWorkTel" property="compPrincipalWorkTel" jdbcType="VARCHAR" />
    <result column="createUserName" property="createUserName" jdbcType="VARCHAR" />
    <result column="ldContactName" property="ldContactName" jdbcType="VARCHAR" />
    <result column="rDepartment" property="rDepartment" jdbcType="VARCHAR" />
    <result column="compPrincipalEm" property="compPrincipalEm" jdbcType="VARCHAR" />
    <result column="ldContactPhone" property="ldContactPhone" jdbcType="VARCHAR" />
    <result column="administrativeNum" property="administrativeNum" jdbcType="VARCHAR" />
    <result column="compPrincipalPhone" property="compPrincipalPhone" jdbcType="VARCHAR" />
    <result column="companyCode" property="companyCode" jdbcType="VARCHAR" />
    <result column="compPrincipalPost" property="compPrincipalPost" jdbcType="VARCHAR" />
    <result column="ldContactPost" property="ldContactPost" jdbcType="VARCHAR" />
    <result column="gpReportingComp" property="gpReportingComp" jdbcType="VARCHAR" />
    <result column="companyAddress" property="companyAddress" jdbcType="VARCHAR" />
    <result column="ldContactWorkTel" property="ldContactWorkTel" jdbcType="VARCHAR" />
    <result column="compPrincipalName" property="compPrincipalName" jdbcType="VARCHAR" />
    <result column="codeName" property="provincesName" jdbcType="VARCHAR" />
    <result column="codeName" property="categoryName" jdbcType="VARCHAR" />
    <result column="codeName" property="affiliationName" jdbcType="VARCHAR" />
    <result column="codeName" property="companyTypeName" jdbcType="VARCHAR" />
    <result column="codeName" property="plateTypeName" jdbcType="VARCHAR" />
    <result column="fkSubordinatePro" property="fkSubordinatePro" jdbcType="VARCHAR" />
    <result column="fkIndustryCategory" property="fkIndustryCategory" jdbcType="VARCHAR" />
    <result column="fkAffiliation" property="fkAffiliation" jdbcType="VARCHAR" />
    <result column="fkCompanyType" property="fkCompanyType" jdbcType="VARCHAR" />
    <result column="fkPlateType" property="fkPlateType" jdbcType="VARCHAR" />
  </resultMap>
  <select id="selectAllByCompanyParam" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" resultMap="BaseResultMap">
  	SELECT 
      pkId AS companyId,
      companyName,
      fkCompanyType,
      ldContactName
    FROM t_cpro_company
    WHERE deleteStatus = 1
      <if test="companyList != null">
        <![CDATA[
          AND t_cpro_company.companyCode IN  
        ]]>
        <foreach collection="companyList" item="item" index="index" open="(" separator="," close=")">
          <![CDATA[
            #{item}
          ]]>
        </foreach>
      </if>
      <if test="plateList != null">
        <![CDATA[
          AND t_cpro_company.fkPlateType IN  
        ]]>
        <foreach collection="plateList" item="item" index="index" open="(" separator="," close=")">
          <![CDATA[
            #{item}
          ]]>
        </foreach>
      </if>
    	<if test="companyName != null and companyName != ''">
    	  <bind name="companyName" value="'%' + companyName + '%'" />
    	  <![CDATA[
    		  AND t_cpro_company.companyName LIKE #{companyName}
    	  ]]>
    	</if>
    	<if test="ldContactName != null and ldContactName != ''">
    	  <bind name="ldContactName" value="'%' + ldContactName + '%'" />
    	  <![CDATA[
    		  AND t_cpro_company.ldContactName LIKE #{ldContactName}
    	  ]]>
    	</if>
  </select>
  <insert id="insertCompanyByCompanyId" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" >
  	INSERT INTO t_cpro_company 
      (
        pkId,fkIndustryCategory,fkAffiliation,fkCompanyType,fkPlateType,
        fkSubordinatePro,ldContactEmail,companyName,postalCode,compPrincipalWorkTel,
        createUserName,remark,ldContactName,rDepartment,compPrincipalEm,
        deleteStatus,ldContactPhone,administrativeNum,compPrincipalPhone,companyCode,
        compPrincipalPost,ldContactPost,updateTime,gpReportingComp,createTime,
        companyAddress,ldContactWorkTel,compPrincipalName
      ) VALUES (
      <trim suffixOverrides="," >
        <![CDATA[
          #{companyId},
        ]]>
        <choose>
          <when test="fkIndustryCategory != null and fkIndustryCategory != ''">
            <![CDATA[
              #{fkIndustryCategory},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="fkAffiliation != null and fkAffiliation != ''">
            <![CDATA[
            #{fkAffiliation},
          ]]>
          </when>
          <otherwise>
            <![CDATA[
            DEFAULT,
          ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="fkCompanyType != null and fkCompanyType != ''">
            <![CDATA[
              #{fkCompanyType,jdbcType=VARCHAR},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="fkPlateType != null and fkPlateType != ''">
            <![CDATA[
              #{fkPlateType},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="fkSubordinatePro != null and fkSubordinatePro != ''">
            <![CDATA[
              #{fkSubordinatePro},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="ldContactEmail != null and ldContactEmail != ''">
            <![CDATA[
              #{ldContactEmail},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="companyName != null and companyName != ''">
            <![CDATA[
              #{companyName},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="postalCode != null ">
            <![CDATA[
              #{postalCode},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="compPrincipalWorkTel != null and compPrincipalWorkTel != ''">
            <![CDATA[
              #{compPrincipalWorkTel},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="createUserName != null and createUserName != ''">
            <![CDATA[
              #{createUserName},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="remark != null and remark != ''">
            <![CDATA[
              #{remark},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="ldContactName != null and ldContactName != ''">
            <![CDATA[
              #{ldContactName},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="rDepartment != null and rDepartment != ''">
            <![CDATA[
              #{rDepartment},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="compPrincipalEm != null and compPrincipalEm != ''">
            <![CDATA[
              #{compPrincipalEm},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="deleteStatus != null">
            <![CDATA[
              #{deleteStatus},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="ldContactPhone != null and ldContactPhone != ''">
            <![CDATA[
              #{ldContactPhone},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="administrativeNum != null ">
            <![CDATA[
              #{administrativeNum},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="compPrincipalPhone != null">
            <![CDATA[
              #{compPrincipalPhone},
            ]]>
          </when> 
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="companyCode != null  and companyCode != ''">
            <![CDATA[
              #{companyCode},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="compPrincipalPost != null  and compPrincipalPost != ''">
            <![CDATA[
              #{compPrincipalPost},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="ldContactPost != null and ldContactPost != ''">
            <![CDATA[
              #{ldContactPost},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="updateTime != null ">
            <![CDATA[
              #{updateTime},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="gpReportingComp != null and gpReportingComp != '' ">
            <![CDATA[
              #{gpReportingComp},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="createTime != null ">
            <![CDATA[
              #{createTime},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="companyAddress != null and companyAddress != ''">
            <![CDATA[
              #{companyAddress},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="ldContactWorkTel != null and ldContactWorkTel != ''">
            <![CDATA[
              #{ldContactWorkTel},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
        <choose>
          <when test="compPrincipalName != null and compPrincipalName != ''">
            <![CDATA[
              #{compPrincipalName},
            ]]>
          </when>
          <otherwise>
            <![CDATA[
              DEFAULT,
            ]]>
          </otherwise>
        </choose>
      </trim>				                					                
    )
    ON DUPLICATE KEY UPDATE
      <trim suffixOverrides=",">
        <if test="fkSubordinatePro != null and fkSubordinatePro != ''">
        	fkSubordinatePro = #{fkSubordinatePro},
        </if>
        <if test="fkIndustryCategory != null and fkIndustryCategory !='' ">
      		fkIndustryCategory = #{fkIndustryCategory},
        </if>
        <if test="fkAffiliation != null and fkAffiliation !='' ">
      		fkAffiliation = #{fkAffiliation},
        </if>
        <if test="fkCompanyType != null and fkCompanyType !='' ">
      		fkCompanyType = #{fkCompanyType},
        </if>
        <if test="fkPlateType != null and fkPlateType !='' ">
      		fkPlateType = #{fkPlateType},
        </if>
        <if test="companyName != null and companyName !='' ">
      		companyName = #{companyName},
        </if>
        <if test="companyCode != null and companyCode !='' ">
      		companyCode = #{companyCode},
        </if>
        <if test="companyAddress != null and companyAddress !='' ">
      		companyAddress = #{companyAddress},
        </if>
        <if test="postalCode != null and postalCode !='' ">
      		postalCode = #{postalCode},
        </if>
        <if test="administrativeNum != null and administrativeNum !='' ">
      		administrativeNum = #{administrativeNum},
        </if>
        <if test="compPrincipalName != null and compPrincipalName !='' ">
      		compPrincipalName = #{compPrincipalName},
        </if>
        <if test="compPrincipalWorkTel != null and compPrincipalWorkTel !='' ">
      		compPrincipalWorkTel = #{compPrincipalWorkTel},
        </if>
        <if test="compPrincipalPost != null and compPrincipalPost !='' ">
      		compPrincipalPost = #{compPrincipalPost},
        </if>
        <if test="compPrincipalEm != null and compPrincipalEm !='' ">
      		compPrincipalEm = #{compPrincipalEm},
        </if>
        <if test="compPrincipalPhone != null and compPrincipalPhone !='' ">
      		compPrincipalPhone = #{compPrincipalPhone},
        </if>
        <if test="ldContactName != null and ldContactName !='' ">
      		ldContactName = #{ldContactName},
        </if>
        <if test="ldContactWorkTel != null and ldContactWorkTel !='' ">
      		ldContactWorkTel = #{ldContactWorkTel},
        </if>
        <if test="ldContactPost != null and ldContactPost !='' ">
      		ldContactPost = #{ldContactPost},
        </if>
        <if test="ldContactEmail != null and ldContactEmail !='' ">
      		ldContactEmail = #{ldContactEmail},
        </if>
        <if test="ldContactPhone != null and ldContactPhone !='' ">
      		ldContactPhone = #{ldContactPhone},
        </if>
        <if test="rDepartment != null and rDepartment !='' ">
      		rDepartment = #{rDepartment},
        </if>
        <if test="gpReportingComp != null and gpReportingComp !='' ">
      		gpReportingComp = #{gpReportingComp},
        </if> 
      </trim>
  </insert> 
  <update id="updateCompanyByCompanyIds" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam">
    UPDATE t_cpro_company 
    SET deleteStatus = 2
    WHERE pkId IN
      <foreach collection="companyIds" item="item" index="index" open="(" separator="," close=")">
        <![CDATA[
          #{item}
        ]]>
      </foreach>
  </update>
  <select id="selectCompanyByCompanyCode" parameterType="String" resultType="String">
	  SELECT 
      companyCode
    FROM t_cpro_company
    WHERE 
      deleteStatus = 1
      AND companyCode = #{companyCode}
  </select>
  <select id="selectSingleCompanyByCompanyId" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" resultMap="CompanyResult">
    SELECT 
      company.pkId AS companyId,
      company.fkSubordinatePro,
      company.fkIndustryCategory,
      company.fkAffiliation,
      company.fkCompanyType,
      company.fkPlateType,
		  company.ldContactEmail,
		  company.companyName,
		  company.postalCode,
		  company.compPrincipalWorkTel,
		  company.createUserName,
		  company.ldContactName,
		  company.rDepartment,
		  company.compPrincipalEm,
		  company.ldContactPhone,
		  company.administrativeNum,
		  company.compPrincipalPhone,
		  company.companyCode,
		  company.compPrincipalPost,
		  company.ldContactPost,
		  company.gpReportingComp,
		  company.companyAddress,
		  company.ldContactWorkTel,
		  company.compPrincipalName ,
		  systemCodeProvinces.codeName AS provincesName,
		  systemCodeCategory.codeName AS categoryName,
		  systemCodeAffiliation.codeName AS affiliationName,
		  systemCodeCompanyType.codeName AS companyTypeName,
		  systemCodePlateType.codeName AS plateTypeName
    FROM
      t_cpro_company AS company
		LEFT JOIN t_cpro_system_code AS systemCodeProvinces 
		  ON company.fkSubordinatePro = systemCodeProvinces.systemCode
		  AND systemCodeProvinces.fkCodeType = 21
		LEFT JOIN t_cpro_system_code AS systemCodeCategory 
		  ON company.fkIndustryCategory = systemCodeCategory.systemCode
		  AND systemCodeCategory.fkCodeType = 8
		LEFT JOIN t_cpro_system_code AS systemCodeAffiliation 
			ON company.fkIndustryCategory = systemCodeAffiliation.systemCode
			AND systemCodeAffiliation.fkCodeType = 3
		LEFT JOIN t_cpro_system_code AS systemCodeCompanyType 
			ON company.fkIndustryCategory = systemCodeCompanyType.systemCode
			AND systemCodeCompanyType.fkCodeType = 5
		LEFT JOIN t_cpro_system_code AS systemCodePlateType 
			ON company.fkIndustryCategory = systemCodePlateType.systemCode
			AND systemCodePlateType.fkCodeType = 6
    WHERE 
      company.deleteStatus = 1
      AND  company.pkId = #{companyId}
  </select>
  
  <select id="selectCompanyByCompanyId" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" resultMap="CompanyResult">
    SELECT 
       company.pkId AS companyId,
      company.fkSubordinatePro,
      company.fkIndustryCategory,
      company.fkAffiliation,
      company.fkCompanyType,
      company.fkPlateType,
      company.ldContactEmail,
      company.companyName,
      company.postalCode,
      company.compPrincipalWorkTel,
      company.createUserName,
      company.ldContactName,
      company.rDepartment,
      company.compPrincipalEm,
      company.ldContactPhone,
      company.administrativeNum,
      company.compPrincipalPhone,
      company.companyCode,
      company.compPrincipalPost,
      company.ldContactPost,
      company.gpReportingComp,
      company.companyAddress,
      company.ldContactWorkTel,
      company.compPrincipalName ,
      systemCodeProvinces.codeName AS provincesName,
      systemCodeCategory.codeName AS categoryName,
      systemCodeAffiliation.codeName AS affiliationName,
      systemCodeCompanyType.codeName AS companyTypeName,
      systemCodePlateType.codeName AS plateTypeName
    FROM
      t_cpro_company AS company
    LEFT JOIN t_cpro_system_code AS systemCodeProvinces 
      ON company.fkSubordinatePro = systemCodeProvinces.systemCode
      AND systemCodeProvinces.fkCodeType = 21
    LEFT JOIN t_cpro_system_code AS systemCodeCategory 
      ON company.fkIndustryCategory = systemCodeCategory.systemCode
      AND systemCodeCategory.fkCodeType = 8
    LEFT JOIN t_cpro_system_code AS systemCodeAffiliation 
      ON company.fkIndustryCategory = systemCodeAffiliation.systemCode
      AND systemCodeAffiliation.fkCodeType = 3
    LEFT JOIN t_cpro_system_code AS systemCodeCompanyType 
      ON company.fkIndustryCategory = systemCodeCompanyType.systemCode
      AND systemCodeCompanyType.fkCodeType = 5
    LEFT JOIN t_cpro_system_code AS systemCodePlateType 
      ON company.fkIndustryCategory = systemCodePlateType.systemCode
      AND systemCodePlateType.fkCodeType = 6
    WHERE 
      company.deleteStatus = 1
      AND  company.pkId = #{companyId}
  </select>
  
  <select id="selectCompanyInfoByCompanyCode" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" resultMap="CompanyResult">
    SELECT 
       company.pkId AS companyId,
      company.fkSubordinatePro,
      company.fkIndustryCategory,
      company.fkAffiliation,
      company.fkCompanyType,
      company.fkPlateType,
      company.ldContactEmail,
      company.companyName,
      company.postalCode,
      company.compPrincipalWorkTel,
      company.createUserName,
      company.ldContactName,
      company.rDepartment,
      company.compPrincipalEm,
      company.ldContactPhone,
      company.administrativeNum,
      company.compPrincipalPhone,
      company.companyCode,
      company.compPrincipalPost,
      company.ldContactPost,
      company.gpReportingComp,
      company.companyAddress,
      company.ldContactWorkTel,
      company.compPrincipalName
    FROM
      t_cpro_company AS company
    WHERE 
      company.deleteStatus = 1
      AND  company.companyCode = #{companyCode}
  </select>
    
  <select id="selectCompanyName" parameterType="com.sinopec.smcc.cpro.company.entity.CompanyParam" resultMap="BaseResultMap">
    SELECT
      companyName,
      companyCode,
      fkPlateType
    FROM 
      t_cpro_company
    WHERE deleteStatus=1
    <if test="companyList != null">
      <![CDATA[
        AND t_cpro_company.companyCode IN  
      ]]>
      <foreach collection="companyList" item="item" index="index" open="(" separator="," close=")">
        <![CDATA[
          #{item}
        ]]>
      </foreach>
    </if>
    <if test="plateList != null">
      <![CDATA[
        AND t_cpro_company.fkPlateType IN  
      ]]>
      <foreach collection="plateList" item="item" index="index" open="(" separator="," close=")">
        <![CDATA[
          #{item}
        ]]>
      </foreach>
    </if>
  </select>
</mapper>
